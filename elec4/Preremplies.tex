\documentclass[10pt,a4paper]{article}
\usepackage{needspace}
\usepackage[nobottomtitles]{titlesec}
\usepackage{multicol}
\usepackage{xcolor}
\usepackage{circuitikz}
\usepackage{siunitx}
\usepackage{fp}
\usepackage{csvsimple}%
\usepackage[francais,bloc]{automultiplechoice}

\FPseed=10

\graphicspath{ {./images/} }

\setlength{\columnseprule}{1pt}
\def\columnseprulecolor{\color{lightgray}}%

\titleformat{\section}
  {\centering\hrule\vspace{2mm}}
  {\thesection}
  {1em}
  {}
  [\vspace{1mm}\hrule]

%\begin{center}
%\hrule\vspace{2mm} {\small{ \bf Titre}\\}
%\vspace{1mm}\hrule
%\end{center}~

\newcommand{\sujet}{
\exemplaire{1}{%

\AMCsetFoot{\niveau{}°\classe{} -- \prenom{}~\nom{} -- \thepage}

\newenvironment{reponsesd}{
    \begin{multicols}{2}
    \begin{reponses} }{
    \end{reponses}
    \end{multicols}
}

%\renewenvironement{question}[1]{\begin{question}{#1}}{\end{question}}

%%% debut de l'en-tête des copies :  
\begin{center}
\vfill
\noindent{\large \bf Classe de \niveau{}°\classe{}}

\vspace*{3mm}

{\Large\bf Évaluation sur table - Électricité 27/05/2024}

\vfill
\namefield{\noindent{}\fbox{\vspace*{3mm}
         \Huge\bf\prenom{}~\nom{}\normalsize{}% 
         \vspace*{3mm}
      }}
\end{center}
\vfill

\begin{center}\em
Durée : 30 minutes.

  Aucun document n'est autorisé.
  L'usage de la calculatrice est interdit.

  Les questions faisant apparaitre le symbole \multiSymbole{} peuvent
  présenter une ou plusieurs bonnes réponses. Les autres ont
  une unique bonne réponse.

  Des points négatifs pourront être affectés à de \emph{très
  mauvaises} réponses.

  \textbf{IMPORTANT: Utilisez un crayon de papier pour cocher les cases, et une gomme pour effacer délicatement en cas d'erreur. Ne raturez pas les cases.}

\end{center}
\vspace{1ex}
\vfill
\pagebreak
%%% fin de l'en-tête

\restituegroupe{groupes}


\AMCassociation{\id}

%\AMCaddpagesto{3}
	  }
}

%%%%§§§§§§§§§§§§§§§§§§§§§§§§§§§§§§§§§

\begin{document}
%%%Options
\AMCrandomseed{10}

\def\AMCformQuestion#1{{\sc Question #1 :}}

\setdefaultgroupmode{withoutreplacement}
%%% Fin Options

\element{securite}{
  \begin{questionmult}{sec1}
    Pourquoi le courant électrique est dangereux pour les humains~?
    \begin{reponsesd}
      \bonne{Il peut paralyser les muscles du corps}
      \mauvaise{\clubpenalties 1 10000 Il peut effacer les contacts de mon téléphone}
      \bonne{Il peut arrêter la respiration et le c{\oe}ur}
      \mauvaise{Il provoque des cancers}
   \end{reponsesd}
  \end{questionmult}
}

\element{securite}{
  \begin{questionmult}{sec2}
    Quelles sources de courants sont dangereuses pour les humains~?
    \begin{reponsesd}
      \bonne{Les prises du secteur}
      \mauvaise{Les piles-boutons}
      \bonne{Les fils haute-tension sur les poteaux électriques}
      \bonne{Les éclairs}
      \mauvaise{L'électricité statique sur un pull en laine}
    \end{reponsesd}
  \end{questionmult}
}

\element{securite}{
  \begin{questionmult}{sec3}
    Cochez les situation ou l'électrocution est un risque avéré~?
    \begin{reponsesd}
      \bonne{Charger son téléphone pendant qu'on l'utilise dans son bain}
      \mauvaise{Allumer sa lampe de bureau}
      \bonne{Jeter de l'eau sur un appareil électrique branché sur le secteur}
      \mauvaise{Consulter la messagerie sur ons ordinateur}
      \bonne{Démonter un appareil electrique branché sur le secteur}
      \bonne{Démonter un micro-onde débranché}
   \end{reponsesd}
  \end{questionmult}
}


\element{symboles}{
  \begin{question}{sym1}
    Que représente le symbole dessiné ici~?
    \\
    \includegraphics[width=2cm]{lamp.png}

    \begin{reponsesd}
      \mauvaise{Un générateur de tension}
      \bonne{Une ampoule électrique à filament}
      \mauvaise{Une DEL (Diode Électroluminescente)}
      \mauvaise{Un moteur électrique}
    \end{reponsesd}
  \end{question}
}

\element{symboles}{
  \begin{question}{sym2}
    Que représente le symbole dessiné ici~?
    \\
    \includegraphics[width=2cm]{generator.png}

    \begin{reponsesd}
      \bonne{Un générateur de tension}
      \mauvaise{Une ampoule électrique à filament}
      \mauvaise{Une DEL (Diode Électroluminescente)}
      \mauvaise{Un moteur électrique}
    \end{reponsesd}
  \end{question}
}

\element{symboles}{
  \begin{question}{sym3}
    Que représente le symbole dessiné ici~?
    \\
    \includegraphics[width=2cm]{motor.png}

    \begin{reponsesd}
      \mauvaise{Un générateur de tension}
      \mauvaise{Une ampoule électrique à filament}
      \mauvaise{Une DEL (Diode Électroluminescente)}
      \bonne{Un moteur électrique}
    \end{reponsesd}
  \end{question}
}

\element{symboles}{
  \begin{question}{sym4}
    Quel interrupteur est fermé~?

    \begin{reponsesd}
      \mauvaise{\includegraphics[width=2cm]{ouvert.png}}
      \bonne{\includegraphics[width=2cm]{ferme.png}}
      \mauvaise{\includegraphics[width=2cm]{lamp.png}}
      \mauvaise{\includegraphics[width=2cm]{generator.png}}
    \end{reponsesd}
  \end{question}
}

\element{symboles}{
  \begin{question}{sym5}
    Un interrupteur~:

    \begin{reponsesd}
      \mauvaise{Laisse passer le courant lorsqu'il est ouvert}
      \bonne{Laisse passer le courant Lorsqu'il est fermé}
      \mauvaise{Laisse toujours passer le courant}
      \mauvaise{Ne laisse jamais passer le courant}
    \end{reponsesd}
  \end{question}
}

\element{seriederiv}{
  \begin{question}{sdv1}
    Ce montage est-il en série ou en dérivation~?

    \begin{circuitikz}[european]
      \draw (0,0)
      to [ american voltage source, invert, o-o] (0,3);
      \draw (0,0)
      to [ lamp, o-o]  (4,0);
      \draw (4,0)
      to [ lamp, o-o]  (4,3);
      \draw (4,3)
      to [ lamp, o-o]  (0,3);
	\end{circuitikz}    
    
    \begin{reponses}
      \bonne{Le montage est branché en série}
      \mauvaise{Le montage est branché en dérivation}
    \end{reponses}
  \end{question}
}

\element{seriederiv}{
  \begin{question}{sdv2}
  \needspace{4cm}
    Ce montage est-il en série ou en dérivation~?

	\begin{circuitikz}[european]
	 \draw (0,0) -- (4,0);
	 \draw (0,3) -- (4,3);
	
	 \draw (0,0)
	 to [ american voltage source, invert, o-o] (0,3);
	 \draw (2,0)
	 to [ lamp, o-o]  (2,3);
	 \draw (4,0)
	 to [ lamp, o-o]  (4,3);
	\end{circuitikz}    
    
    \begin{reponses}
      \mauvaise{Le montage est branché en série}
      \bonne{Le montage est branché en dérivation}
    \end{reponses}
  \end{question}
}

\element{mesures}{
  \begin{question}{mes1}
    Comment appelle t'on cet appareil~?
    \\
    \includegraphics[width=3cm]{multimetre.jpg}

    \begin{reponsesd}
      \mauvaise{Un manomètre}
      \bonne{Un multimètre}
      \mauvaise{Ça dépend}
      \mauvaise{Un électromètre}
      \mauvaise{Un Grand Maitre}
    \end{reponsesd}
  \end{question}
}

\element{mesures}{
  \begin{question}{mes2}
    Sur quelle zone faut-il régler l'appareil pour mesurer l'intensité d'un courant électrique~?
    \begin{reponsesd}
      \mauvaise{\includegraphics[width=2cm]{multimetreV.jpg}}
      \bonne{\includegraphics[width=2cm]{multimetreA.jpg}}
      \mauvaise{\includegraphics[width=2cm]{multimetreO.jpg}}
      \mauvaise{\includegraphics[width=2cm]{multimetreZ.jpg}}
    \end{reponsesd}
  \end{question}
}

\element{mesures}{
  \begin{question}{mes3}
    Sur quelle zone faut-il régler l'appareil pour mesurer la tension électrique entre deux points~?
    \begin{reponsesd}
      \mauvaise{\includegraphics[width=2cm]{multimetreA.jpg}}
      \bonne{\includegraphics[width=2cm]{multimetreV.jpg}}
      \mauvaise{\includegraphics[width=2cm]{multimetreO.jpg}}
      \mauvaise{\includegraphics[width=2cm]{multimetreZ.jpg}}
    \end{reponsesd}
  \end{question}
}

\element{mesures}{
  \begin{question}{mes4}
    Lorsque l'on veut faire une mesure sur une tension ou intensité qu'on ne conait pas, sur quel calibre met-on l'appareil~?
    \begin{reponsesd}
      \bonne{On commence par le calibre le plus élevé}
      \mauvaise{On commence par le calibre le plus petit}
      \mauvaise{Peu importe}
    \end{reponsesd}
  \end{question}
}

\element{mesures}{
  \begin{question}{mes5}
    L'appareil affiche cet écran lors d'une mesure en voltmètre, alors~:
    \\
    \includegraphics[width=4cm]{multimetreover.jpg}
    \begin{reponsesd}
      \bonne{La valeur est trop élevée, il faut passer au calibre supérieur}
      \mauvaise{La valeur est trop basse, il faut passer au calibre inférieur}
      \mauvaise{La valeur mesurée est de 1V exactement}
      \mauvaise{L'appareil n'est pas branché}
    \end{reponsesd}
  \end{question}
}

\element{mesures}{
  \begin{questionmult}{mes6}
    Vous souhaitez mesurer le courant qui passe dans l'élément $L_1$, comment branchez vous l'ampèremètre~?
    \begin{reponsesd}
      \bonne{
        \begin{circuitikz}[european,scale = 0.7]
          \draw (0,0) to [ rmeter, t=A ] (4,0);
          \draw (0,3) -- (4,3);
          \draw (0,3) to [ rmeter, t=G,v=\empty, american voltages ] (0,0);
          \draw (4,0) to [ lamp=$L_1$, o-o]  (4,3);
        \end{circuitikz}
      }
      \bonne{
        \begin{circuitikz}[european,scale = 0.7]
          \draw (0,3) to [ rmeter, t=A ] (4,3);
          \draw (0,0) -- (4,0);
          \draw (0,3) to [ rmeter, t=G,v=\empty, american voltages ] (0,0);
          \draw (4,0) to [ lamp=$L_1$, o-o]  (4,3);
        \end{circuitikz}
      }
      \mauvaise{
        \begin{circuitikz}[european,scale = 0.7]
          \draw (0,0) -- (4,0);
          \draw (0,3) -- (4,3);
          \draw (0,3) to [ rmeter, t=G,v=\empty, american voltages ] (0,0);
          \draw (2,0) to [ rmeter, t=A ]  (2,3);
          \draw (4,0) to [ lamp=$L_1$, o-o]  (4,3);
        \end{circuitikz}
      }
      \mauvaise{
        \begin{circuitikz}[european,scale = 0.7]
          \draw (0,0) -- (4,0);
          \draw (0,3) -- (4,3);
          \draw (0,3) to [ rmeter, t=G,v=\empty, american voltages ] (0,0);
          \draw (4,0) to [ rmeter, t=A ]  (4,3);
          \draw (2,0) to [ lamp=$L_1$, o-o]  (2,3);
        \end{circuitikz}
      }
    \end{reponsesd}
  \end{questionmult}
}

\element{mesures}{
  \begin{questionmult}{mes7}
    Vous souhaitez mesurer la tension aux bornes de l'élément $L_1$, comment branchez vous le voltmètre~?
    \begin{reponsesd}
      \mauvaise{
        \begin{circuitikz}[european,scale = 0.7]
          \draw (0,0) to [ rmeter, t=V ] (4,0);
          \draw (0,3) -- (4,3);
          \draw (0,3) to [ rmeter, t=G,v=\empty, american voltages ] (0,0);
          \draw (4,0) to [ lamp=$L_1$, o-o]  (4,3);
        \end{circuitikz}
      }
      \mauvaise{
        \begin{circuitikz}[european,scale = 0.7]
          \draw (0,3) to [ rmeter, t=V ] (4,3);
          \draw (0,0) -- (4,0);
          \draw (0,3) to [ rmeter, t=G,v=\empty, american voltages ] (0,0);
          \draw (4,0) to [ lamp=$L_1$, o-o]  (4,3);
        \end{circuitikz}
      }
      \bonne{
        \begin{circuitikz}[european,scale = 0.7]
          \draw (0,0) -- (4,0);
          \draw (0,3) -- (4,3);
          \draw (0,3) to [ rmeter, t=G,v=\empty, american voltages ] (0,0);
          \draw (2,0) to [ rmeter, t=V ]  (2,3);
          \draw (4,0) to [ lamp=$L_1$, o-o]  (4,3);
        \end{circuitikz}
      }
      \bonne{
        \begin{circuitikz}[european,scale = 0.7]
          \draw (0,0) -- (4,0);
          \draw (0,3) -- (4,3);
          \draw (0,3) to [ rmeter, t=G,v=\empty, american voltages ] (0,0);
          \draw (4,0) to [ rmeter, t=V ]  (4,3);
          \draw (2,0) to [ lamp=$L_1$, o-o]  (2,3);
        \end{circuitikz}
      }
    \end{reponsesd}
  \end{questionmult}
}

\element{introcalculs}{
  \begin{questionmult}{ical1}
    Dans un circuit électrique monté en série, on peut appliquer ~:
    \begin{reponsesd}
      \bonne{La loi d'unicité de l'intensité du courant électrique qui pose que l'intensité du courant électrique est la même en tout point du circuit}
      \bonne{La loi d’additivité des tensions électrique pose que la tension aux bornes du générateur est égale à la somme des tensions aux bornes de chaque dipole}
      \mauvaise{La loi d’additivité des intensités du courant électrique pose que l’intensité du courant électrique dans le générateur est égal à la somme des intensités des courants dans chaque dipole}
      \mauvaise{La loi d'unicité des tensions électriques pose que la tension électrique est la même aux bornes de chaque dipoles du circuit}
    \end{reponsesd}
  \end{questionmult}
}

\element{introcalculs}{
  \begin{questionmult}{ical2}
    Dans un circuit électrique monté en dérivation, on peut appliquer~:
    \begin{reponsesd}
      \bonne{La loi d'unicité des tensions électriques pose que la tension électrique aux bornes de chaque dipoles du circuit est la même qu'aux bornes du générateur}
      \bonne{La loi d’additivité des intensités du courant électrique pose que l’intensité du courant électrique dans le générateur est égal à la somme des intensités des courants dans chaque dipole}
      \mauvaise{La loi d’additivité des tensions électrique pose que la tension aux bornes du générateur est égale à la somme des tensions aux bornes de chaque dipole}
      \mauvaise{La loi d'unicité de l'intensité du courant électrique pose que l'intensité du courant électrique est la même en tout point du circuit}
    \end{reponsesd}
  \end{questionmult}
}


\element{introcalculs}{
  \begin{question}{ical3}
    Cochez la case où l'égalité est respectée~:
    \begin{reponsesd}
      \bonne   {\qty{1}{\A}=\qty{1000}{\mA}}
      \mauvaise{\qty{1}{\A}=\qty{100}{\mA}}
      \mauvaise{\qty{1}{\A}=\qty{10}{\mA}}
      \mauvaise{\qty{1}{\A}=\qty{1}{\mA}}
    \end{reponsesd}
  \end{question}
}
\element{introcalculs}{
  \begin{question}{ical4}
    Cochez la case où l'égalité est respectée~:
    \begin{reponsesd}
      \bonne   {\qty{1}{\V}=\qty{1000}{\mV}}
      \mauvaise{\qty{1}{\V}=\qty{100}{\mV}}
      \mauvaise{\qty{1}{\V}=\qty{10}{\mV}}
      \mauvaise{\qty{1}{\V}=\qty{1}{\mV}}
    \end{reponsesd}
  \end{question}
}

\element{introcalculs}{
  \begin{questionmult}{ical5}
    Cochez les case où l'égalité est respectée~:
    \FPeval\ySeed{trunc(random*1000,0) }
    \begin{reponsesd}
      \input{"|./genexo.py --seed \ySeed~ --mode C --level 0 --qref toto"}
    \end{reponsesd}
  \end{questionmult}
}

\element{calculs}{
  \FPeval\ySeed{trunc(random*1000,0) }
  \input{"|./genexo.py --seed \ySeed~ --mode A --level 0 --qref cal1"}
}

\element{calculs}{
  \FPeval\ySeed{trunc(random*1000,0) }
  \input{"|./genexo.py --seed \ySeed~ --mode A --level 1 --qref cal2"}
}

\element{calculs}{
  \FPeval\ySeed{trunc(random*1000,0) }
  \input{"|./genexo.py --seed \ySeed~ --mode A --level 2 --qref cal3"}
}

\element{calculs}{
  \FPeval\ySeed{trunc(random*1000,0) }
  \input{"|./genexo.py --seed \ySeed~ --mode A --level 3 --qref cal4"}
}

\element{calculs}{
  \FPeval\ySeed{trunc(random*1000,0) }
  \input{"|./genexo.py --seed \ySeed~ --mode A --level 4 --qref cal5"}
}


\element{calculs}{
   \FPeval\ySeed{trunc(random*1000,0) }
  \input{"|./genexo.py --seed \ySeed~ --mode V --level 0 --qref calv1"}
}


\element{groupes}{
\section{Sécurité}
%\begin{multicols}{2}
\restituegroupe{securite}
%\end{multicols}

\section{La représentation des circuits électriques}
%\begin{multicols}{2}
\restituegroupe{symboles}
%\end{multicols}

\section{Types de circuits électriques}
\begin{multicols}{2}
\restituegroupe{seriederiv}
\end{multicols}

\section{Mesures de courants et de tensions dans les circuits électriques}
%\begin{multicols}{2}
\restituegroupe{mesures}
%\end{multicols}

\section{Notions d'intensité et de tension électrique}
\restituegroupe{introcalculs}

\section{Calculs d'intensités du courant électrique}
\restituegroupe{calculs}

}


\csvreader[head to column names]{liste.csv}{}{\sujet}

\end{document}

